<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="fragments/head :: head"></head>
<body style="background-image: url('/images/cloud_bg.jpg'); background-size: cover; background-repeat: no-repeat; background-position: center;">

<!-- Header Section -->
<header th:replace="fragments/header :: header" style="width: 100%;"></header>

<!-- Main Content Section -->
<main style="display: flex; 
             align-items: center; 
             justify-content: center; 
             flex-grow: 1; 
             padding: 20px;">
    <div class="container" style="width: 90%; 
                                  max-width: 600px; 
                                  padding: 30px; 
                                  background-color: rgba(255, 255, 255, 0.75); 
                                  border-radius: 15px; 
                                  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3); 
                                  text-align: center;">
        <h2 style="color: #5eb7da; font-weight: bold; margin-bottom: 20px;">Write New Blog Post</h2>

        <form action="#"
              th:action="@{'/createNewPost'}"
              th:object="${post}"
              method="post"
              enctype="multipart/form-data">

            <div style="margin-bottom: 20px;">
                <label>
                    <div class="alert-red" th:if="${#fields.hasErrors('title')}" th:errors="*{title}" style="color: #FF0000; font-size: 14px; margin-bottom: 5px;">Title Error</div>
                    <input type="text" th:field="*{title}" placeholder="Title" 
                           style="width: 100%; padding: 12px; border-radius: 8px; border: 1px solid #ddd; box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1); font-size: 16px;"/>
                </label>
            </div>

            <div style="margin-bottom: 20px;">
                <label>
                    <div class="alert-red" th:if="${#fields.hasErrors('body')}" th:errors="*{body}" style="color: #FF0000; font-size: 14px; margin-bottom: 5px;">Body Error</div>
                    <textarea th:field="*{body}" placeholder="Write something valuable" 
                              style="width: 100%; height: 120px; padding: 12px; border-radius: 8px; border: 1px solid #ddd; box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1); font-size: 16px; resize: vertical;"></textarea>
                </label>
            </div>

            <div style="margin-bottom: 20px;">
                <label>
                    <span style="font-size: 16px;">Upload Image:</span>
                    <input type="file" name="image" accept="image/*" style="margin-top: 10px;"/>
                </label>
            </div>

            <div style="margin-top: 30px;">
                <button type="submit" 
                        style="background-color: #64cfdf; color: white; padding: 12px 24px; border: none; border-radius: 8px; cursor: pointer; font-size: 16px; transition: background-color 0.3s ease;">Send</button>
            </div>

            <div th:if="${post.id}" style="margin-top: 20px;">
                <a th:href="@{'/deletePost/{id}'(id=${post.id})}">
                    <button type="button" 
                            style="background-color: #f44336; color: white; padding: 12px 24px; border: none; border-radius: 8px; cursor: pointer; font-size: 16px; transition: background-color 0.3s ease;">Delete Post</button>
                </a>
            </div>
        </form>
    </div>
</main>

<!-- Footer Section -->
<footer th:replace="fragments/footer :: footer" style="width: 100%;"></footer>

</body>
</html>
